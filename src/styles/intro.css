/* ===== INTRO CINEMATOGRÁFICA (compatível com seu HTML atual) ===== */

/* Overlay ocupa a viewport e centraliza o "card" (.intro-texto + botão) */
#intro-cinematica {
position: fixed;
inset: 0;
display: grid;
place-items: center;
padding: max(2rem, 1.5rem + env(safe-area-inset-top))
max(1.5rem, 1rem + env(safe-area-inset-right))
max(2rem, 1.5rem + env(safe-area-inset-bottom))
max(1.5rem, 1rem + env(safe-area-inset-left));
z-index: 9999;

/* estado base = oculto */
opacity: 0;
visibility: hidden;
pointer-events: none;
transition: opacity .6s ease, visibility .6s ease;

background: transparent; /* não escurece a página por padrão */
}

/* “Card” interno é o próprio #intro-texto (sua marcação atual) */
#intro-texto {
width: clamp(280px, 90vw, 600px);
max-height: min(60vh, 80svh);
overflow: hidden auto;

background: #000;
color: #fff;
font-family: 'Share Tech Mono', monospace;
font-size: clamp(1rem, 2.5vw, 1.4rem);
text-align: center;

border-radius: 1rem;
box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
padding: 2rem 1.5rem;
}

/* Estados */
#intro-cinematica.mostrar {
opacity: 1;
visibility: visible;
pointer-events: auto;
}
#intro-cinematica.ocultar {
opacity: 0;
visibility: hidden;
pointer-events: none;
}

/* Botão “Pular” (sua classe atual) */
.pular-intro {
    margin-top: 1.25rem;
    background: #6ef2b1;
    color: #000;
    font-weight: 700;
    padding: 0.5rem 1.2rem;
    font-size: clamp(0.8rem, 1.5vw, 1rem);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background .25s ease, transform .12s ease;
}
.pular-intro:hover { background: #4cd69d; transform: translateY(-1px); }
.pular-intro:active { transform: translateY(0); }
.pular-intro:focus-visible { outline: 3px solid #c0c8ff; outline-offset: 2px; }

/* Tipografia do título sem “text-wrap: pretty”; com fallback e balance onde houver */
.titulo-animado {
    font-size: clamp(1.6rem, 6vw, 3.2rem);
    text-align: center;
    overflow-wrap: anywhere;
    word-break: normal;
    hyphens: auto;
    max-width: 90vw;
    margin: 0 auto;
}
@supports (text-wrap: balance) {
    .titulo-animado { text-wrap: balance; }
}

/* Reduz animação para quem prefere menos movimento */
@media (prefers-reduced-motion: reduce) {
    #intro-cinematica { transition: none !important; }
    .pular-intro { transition: none !important; }
}

/* Alto contraste / cores forçadas: legibilidade garantida */
@media (prefers-contrast: more) {
    #intro-cinematica { background: rgba(0,0,0,0.85); }
    #intro-texto {
    background: #000;
    box-shadow: none;
    border: 1px solid rgba(255,255,255,0.2);
    }
}
@media (forced-colors: active) {
    #intro-cinematica { background: Canvas; }
    #intro-texto {
    background: Canvas;
    color: CanvasText;
    box-shadow: none;
    border: 1px solid ButtonBorder;
    }
    .pular-intro {
        background: ButtonFace;
        color: ButtonText;
        border: 1px solid ButtonBorder;
    }
}

/* (Opcional) Travar scroll da página sob a intro */
html.intro-lock, body.intro-lock { overflow: hidden; }

/* ===== TÍTULO: efeito "typing" com caret ===== */

/* Base necessária pro efeito */
.titulo-ritual .titulo-animado {
    display: inline-block;      /* permite "cortar" texto */
    white-space: nowrap;        /* não quebra linha durante typing */
    overflow: hidden;           /* esconde a parte não "digitada" */
    border-right: 2px solid currentColor; /* caret */
    line-height: 1.1;
}

/* Efeito typing usando clip-path (melhor que width) */
@keyframes typing {
    from { clip-path: inset(0 100% 0 0); }
    to   { clip-path: inset(0 0    0 0); }
}

/* Caret piscando */
@keyframes blink-caret {
    0%, 49%, 100% { border-right-color: transparent; }
    50%           { border-right-color: currentColor; }
}

/* Fallback para engines sem clip-path animável (mais amplo) */
@supports not (clip-path: inset(0 0 0 0)) {
    .titulo-ritual .titulo-animado { clip-path: none; width: 0; }
    @keyframes typing {
        from { width: 0; }
        to   { width: 100%; }
    }
}

/* Acessibilidade: reduzir movimento */
@media (prefers-reduced-motion: reduce) {
    .titulo-ritual .titulo-animado {
        animation: none !important;
        border-right: 0;
    }
}

/* Mobile: mantendo seu comportamento atual (overlay opcional)
 *   — estes ajustes NÃO desativam o typing, apenas o posicionamento overlay */
@media (max-width: 768px) {
    .titulo-ritual .titulo-animado {
        /* continua com typing; só não flutua por cima */
    }
}
