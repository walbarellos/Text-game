/* ---------- HOTFIX ESTABILIZADOR (aplicar por último) ---------- */

/* 0) Flag global para aura (0 = desligada, 1 = ligada) */
:root { --aura-on: 0; }

/* 1) Cartão do evento: base clean e consistente */
.theme-grimoire #evento,
.theme-cavern  #evento {
  background: rgba(20,22,24,0.92);
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 18px 40px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.04) inset;
  padding: 36px 28px !important;
}

/* Remover vinhetas/bordas extras */
.theme-grimoire #evento::before,
.theme-grimoire #evento::after,
.theme-cavern  #evento::before,
.theme-cavern  #evento::after {
  display: none !important;
}

/* 2) Fundo do cartão sem listras agressivas */
#evento {
background-image: none !important; /* mata repeating-linear-gradient antigo */
}

/* 3) Título e texto legíveis */
#evento h1, #evento h2 {
font-family: Georgia, "Times New Roman", serif;
font-weight: 700;
font-size: 26px;
letter-spacing: .2px;
text-shadow: none;
}
#evento p { opacity: .95; }

/* 4) Botões: um único estilo limpo */
#evento button {
background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
border: 1px solid rgba(255,255,255,.10);
box-shadow: 0 6px 18px rgba(0,0,0,.35);
color: #eaeaf0;
padding: 14px 16px;
border-radius: 14px;
}
#evento button:hover {
transform: translateY(-1px);
background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
}
#evento button small { color: #b9bec6; }

/* 5) Aura: desligada por padrão (troque var para 1 se quiser ligar) */
body.build-virtuoso #evento.evento-ritual::before,
body.build-profano  #evento.evento-ritual::before,
body.build-anomalia #evento.evento-ritual::before {
  display: calc(var(--aura-on)) !important; /* 0 = none; 1 = block — truque CSS */
  content: "";
  position: absolute;
  inset: -6%;
  border-radius: 20px;
  pointer-events: none;
  z-index: 0;
  opacity: .85;
  transition: opacity .35s ease, transform .35s ease;
}
body.build-virtuoso #evento.evento-ritual::before {
  background: radial-gradient(ellipse at center, rgba(110,242,177,.10), transparent 70%);
  box-shadow: 0 0 18px 4px rgba(110,242,177,.20);
  animation: pulsar 6s ease-in-out infinite;
}
body.build-profano  #evento.evento-ritual::before {
  background: radial-gradient(ellipse at center, rgba(248,91,91,.10), transparent 70%);
  box-shadow: 0 0 18px 4px rgba(248,91,91,.20);
  animation: red-waves 5.5s ease-in-out infinite;
}
body.build-anomalia #evento.evento-ritual::before {
  background: radial-gradient(ellipse at center, rgba(168,126,248,.10), transparent 70%);
  box-shadow: 0 0 18px 4px rgba(168,126,248,.20);
  animation: glitchy-fog 7s ease-in-out infinite;
}

/* 6) Mobile e redução de movimento: sem efeitos */
@media (max-width: 768px) {
  body.build-virtuoso #evento.evento-ritual::before,
  body.build-profano  #evento.evento-ritual::before,
  body.build-anomalia #evento.evento-ritual::before { display: none !important; }
}
@media (prefers-reduced-motion: reduce) {
  body.build-virtuoso #evento.evento-ritual::before,
  body.build-profano  #evento.evento-ritual::before,
  body.build-anomalia #evento.evento-ritual::before { animation: none !important; }
}


/* Garante que o body ocupe a tela toda e herde o tema */
body.jogo-corpo {
  min-height: 100vh;
  background: var(--bg);
  display: flex;
  flex-direction: column;
}

/* Empurra footer pro fim */
.main-wrapper {
  flex: 1;
  display: flex;
  flex-direction: column;
}
